{"version":3,"file":"index.js","sources":["../src/js/header.js","../src/js/mobile-menu.js","../src/js/hero.js","../src/js/api.js","../src/js/book.js","../src/js/book-modal.js","../src/js/feedback.js","../src/js/events.js","../src/js/contact-modal.js","../src/main.js"],"sourcesContent":["const menuBtn = document.querySelectorAll('.mobile-menu-btn');\nconst menu = document.querySelector('.mobile-menu');\n\nmenuBtn.forEach(btn => btn.addEventListener('click', toggleMobileMenu));\n\nexport function toggleMobileMenu() {\n  document.body.classList.toggle('no-scroll');\n  menu.classList.toggle('is-open');\n}\n","import { toggleMobileMenu } from './header';\n\nconst menuNav = document.querySelector('.mobile-nav');\n\nmenuNav.addEventListener('click', handleNavMenu);\n\nfunction handleNavMenu(e) {\n  if (e.target.className === 'nav-link') {\n    console.log(e.target);\n    toggleMobileMenu();\n  }\n}\n","import Swiper from 'swiper';\nimport { Navigation } from 'swiper/modules';\n\nconst heroSwiper = new Swiper('.hero-main-slider', { \n  modules: [Navigation], \n  loop: false,\n  speed: 300,\n  slidesPerView: 1,\n  keyboard: { enabled: true, onlyInViewport: true },\n  watchOverflow: true,\n    navigation: {\n    nextEl: '.swiper-button-hero-next', \n    prevEl: '.swiper-button-hero-prev', \n  },\n  \n  breakpoints: {\n    768: {\n      slidesPerView: 1,\n        },\n    1440: {\n      slidesPerView: 1,       \n    },\n  },\n});","import axios from 'axios';\nconst API_BASE_URL = 'https://books-backend.p.goit.global/books';\n\nexport async function fetchTopBooks() {\n  try {\n    const response = await axios.get(\n      `${API_BASE_URL}/top-books`\n    );\n    const topBooks = response.data.flatMap(category => category.books);\n    const uniqueBooks = topBooks.filter(\n      (book, index, self) =>\n        index ===\n        self.findIndex(b => b.title === book.title && b.author === book.author)\n    );\n    return uniqueBooks;\n    \n  } catch (error) {\n    console.error('Error fetching top books:', error);\n  }\n}\n\nexport async function fetchBooksByCategory(category) {\n  try {\n    const response = await axios.get(\n      `${API_BASE_URL}/category?category=${encodeURIComponent(category)}`\n    );\n    const uniqueBooks = response.data.filter(\n      (book, index, self) =>\n        index ===\n        self.findIndex(b => b.title === book.title && b.author === book.author)\n    );\n    return uniqueBooks;\n  } catch (error) {\n    console.error('Error fetching books by category:', error);\n  }\n}\n","import { fetchTopBooks, fetchBooksByCategory } from './api.js';\n\nconst categories = document.querySelectorAll('.category-item');\nconst categoriesSelect = document.querySelector('.category-select');\nconst booksContainer = document.querySelector('.books');\nconst loader = document.querySelector('.loader');\nconst showMore = document.querySelector('.show-more-btn');\nconst booksCount = document.querySelector('#books-count');\n\nfunction showLoader() {\n  loader.classList.remove('hidden');\n}\n\nfunction hideLoader() {\n  loader.classList.add('hidden');\n}\n\nfunction showShowMoreBtn() {\n  showMore.classList.remove('hidden');\n}\n\nfunction hideShowMoreBtn() {\n  showMore.classList.add('hidden');\n}\n\nfunction capitalizeTitle(title) {\n  return title\n    .toLowerCase()\n    .split(' ')\n    .map(word => word.charAt(0).toUpperCase() + word.slice(1))\n    .join(' ');\n}\n\nlet allBooks = [];\nlet currentIndex = 0;\nlet initialAmount = window.innerWidth < 768 ? 10 : 24;\nconst stepRender = 4;\n\nfunction renderBatch(amount) {\n  const rendered = Math.min(currentIndex + amount, allBooks.length);\n  const nextSlice = allBooks.slice(currentIndex, rendered);\n  booksContainer.insertAdjacentHTML('beforeend', createMarkup(nextSlice));\n  currentIndex = rendered;\n  booksCount.textContent = `Showing ${rendered} of ${allBooks.length}`;\n  if (currentIndex >= allBooks.length) {\n    hideShowMoreBtn();\n  }\n}\n\nhideShowMoreBtn();\nshowLoader();\nfetchTopBooks()\n  .then(books => {\n    allBooks = books;\n    renderBatch(initialAmount);\n    if (allBooks.length > currentIndex) {\n      showShowMoreBtn();\n    }\n  })\n  .finally(() => {\n    hideLoader();\n  });\n\nshowMore.addEventListener('click', () => {\n  renderBatch(stepRender);\n  const firstCard = document.querySelector('.books li');\n  const cardHeight = firstCard.getBoundingClientRect().height;\n  window.scrollBy({\n    top: cardHeight * 1,\n    behavior: 'smooth',\n  });\n  showMore.blur();\n});\n\nbooksContainer.addEventListener('click', e => {\n  if (e.target.classList.contains('btn')) {\n    e.target.blur();\n  }\n});\n\nfunction createMarkup(books) {\n  return books\n    .map(item => {\n      return `\n<li class=\"book-item\">\n  <img class=\"item-image\" src=\"${item.book_image}\" alt=\"${item.title}\" />\n  \n  <div class=\"book-content\">\n    <div class=\"book-info\">\n      <div class=\"text-group\">\n        <h3 class=\"item-title\">${capitalizeTitle(item.title)}</h3>\n        <p class=\"item-author\">${item.author}</p>\n      </div>\n      <p class=\"item-price\">$${item.price}</p>\n    </div>\n  </div>\n\n  <button class=\"btn\" data-id=\"${item._id}\">Learn More</button>\n</li>`;\n    })\n    .join('');\n}\n\ncategoriesSelect.addEventListener('change', () => {\n  const categoryName = categoriesSelect.value;\n  hideShowMoreBtn();\n  showLoader();\n  booksContainer.innerHTML = '';\n  currentIndex = 0;\n\n  const fetchFn =\n    categoryName === 'All categories'\n      ? fetchTopBooks\n      : () => fetchBooksByCategory(categoryName);\n\n  fetchFn()\n    .then(books => {\n      allBooks = books;\n      renderBatch(initialAmount);\n      if (allBooks.length > currentIndex) {\n        showShowMoreBtn();\n      }\n    })\n    .finally(() => {\n      hideLoader();\n    });\n});\n\ncategories.forEach(category => {\n  category.addEventListener('click', () => {\n    const categoryName = category.dataset.category;\n\n    hideShowMoreBtn();\n    showLoader();\n    booksContainer.innerHTML = '';\n    currentIndex = 0;\n\n    const fetchFn =\n      categoryName === 'All categories'\n        ? fetchTopBooks\n        : () => fetchBooksByCategory(categoryName);\n\n    fetchFn()\n      .then(books => {\n        allBooks = books;\n        renderBatch(initialAmount);\n        if (allBooks.length > currentIndex) {\n          showShowMoreBtn();\n        }\n      })\n      .finally(() => {\n        hideLoader();\n      });\n  });\n});\n","import Accordion from 'accordion-js';\nimport 'accordion-js/dist/accordion.min.css';\n\nlet modalInstance = null;\n\nexport function openBookModal(bookData) {\n  if (modalInstance) closeBookModal();\n\n  const template = document.querySelector('#book-modal-template');\n  if (!template) {\n    console.error('Модальний шаблон не знайдено!');\n    return;\n  }\n\n  const modalMarkup = template.content.cloneNode(true);\n  const wrapper = modalMarkup.firstElementChild;\n\n  wrapper.querySelector('.book-modal__image').src = bookData.image || '';\n  wrapper.querySelector('.book-modal__image').alt =\n    bookData.title || 'Book Cover';\n  wrapper.querySelector('.book-modal__title').textContent =\n    bookData.title || 'No title';\n  wrapper.querySelector('.book-modal__author').textContent =\n    bookData.author || 'Unknown author';\n  wrapper.querySelector('.book-modal__price').textContent = bookData.price\n    ? `$${bookData.price}`\n    : 'No price';\n\n  wrapper.querySelector('.book-modal__description').innerHTML = `<p>${\n    bookData.description || 'No description'\n  }</p>`;\n  wrapper.querySelector('.book-modal__shipping').innerHTML = `<p>${\n    bookData.shipping || 'Shipping info unavailable'\n  }</p>`;\n  wrapper.querySelector('.book-modal__returns').innerHTML = `<p>${\n    bookData.returns || 'Return info unavailable'\n  }</p>`;\n\n  // Quantity logic\n  const quantityEl = wrapper.querySelector('.qty-value');\n  const decrementBtn = wrapper.querySelector('[data-action=\"decrement\"]');\n  const incrementBtn = wrapper.querySelector('[data-action=\"increment\"]');\n  let quantity = 1;\n  quantityEl.textContent = quantity;\n\n  decrementBtn.addEventListener('click', () => {\n    if (quantity > 1) {\n      quantity--;\n      quantityEl.textContent = quantity;\n    }\n  });\n\n  incrementBtn.addEventListener('click', () => {\n    quantity++;\n    quantityEl.textContent = quantity;\n  });\n\n  // Cart button\n  wrapper\n    .querySelector('.book-modal__add-to-cart')\n    .addEventListener('click', () => {\n      console.log(`Added ${quantity} of '${bookData.title}' to cart.`);\n    });\n\n  // Buy button\n  wrapper\n    .querySelector('.book-modal__buy-now')\n    .addEventListener('click', () => {\n      alert('Дякую за покупку');\n    });\n\n  // Append modal\n  modalInstance = wrapper;\n  document.body.appendChild(modalInstance);\n  document.body.classList.add('no-scroll');\n\n  const backdrop = modalInstance;\n  backdrop.addEventListener('click', onBackdropClick);\n\n  const closeBtn = backdrop.querySelector('[data-action=\"close-modal\"]');\n  if (closeBtn) {\n    closeBtn.addEventListener('click', closeBookModal);\n  }\n\n  document.addEventListener('keydown', handleEscape);\n  initAccordions(backdrop);\n}\n\nexport function closeBookModal() {\n  if (modalInstance) modalInstance.remove();\n  document.body.classList.remove('no-scroll');\n  document.removeEventListener('keydown', handleEscape);\n  modalInstance = null;\n}\n\nfunction onBackdropClick(e) {\n  if (e.target.classList.contains('book-modal-backdrop')) {\n    closeBookModal();\n  }\n}\n\nfunction handleEscape(e) {\n  if (e.key === 'Escape') {\n    closeBookModal();\n  }\n}\n\nfunction initAccordions(container) {\n  const accordionButtons = container.querySelectorAll('.accordion');\n\n  accordionButtons.forEach(button => {\n    const panel = button.nextElementSibling;\n\n    button.addEventListener('click', () => {\n      const isOpen = button.classList.contains('active');\n\n      // Close all\n      accordionButtons.forEach(btn => {\n        btn.classList.remove('active');\n        btn.nextElementSibling?.classList.remove('open');\n      });\n\n      if (!isOpen) {\n        button.classList.add('active');\n        panel?.classList.add('open');\n      }\n    });\n  });\n}\n","import Swiper from 'swiper';\nimport { Navigation, Pagination, Scrollbar } from 'swiper/modules';\n\nconst swiper = new Swiper('.swiper', {\n  \n  modules: [Navigation, Pagination, Scrollbar],\n  speed: 350,\n  slidesPerView: 'auto',\n  spaceBetween: 16,\n  keyboard: { enabled: true, onlyInViewport: true },             \n  watchOverflow: true,\n  navigation: {\n    nextEl: '.swiper-button-next',\n    prevEl: '.swiper-button-prev',\n  },\n  pagination: {\n    el: '.feedback .swiper-pagination',\n    type: 'bullets',        \n    clickable: true,         \n    bulletClass: 'custom-bullet',          \n    bulletActiveClass: 'custom-bullet-active'\n  },\n  breakpoints: {                                                \n    768: {            \n      slidesPerView: 'auto',\n      spaceBetween: 24,\n    },\n    1440: {           \n      slidesPerView: 3,\n      spaceBetween: 24,\n    },\n  },\n});","import Swiper from 'swiper';\nimport { Navigation, Pagination, Scrollbar } from 'swiper/modules';\n\nconst swiperEvents = new Swiper('.swiper-events', {\n  modules: [Navigation, Pagination, Scrollbar],\n\nwrapperClass: 'swiper-wrapper-events',\nslideClass:   'swiper-slide-events',\n\n  speed: 350,\n  slidesPerView: 'auto',\n  spaceBetween: 16,\n  watchOverflow: true,\n\n  navigation: {\n    nextEl: '.swiper-events-button-next',\n    prevEl: '.swiper-events-button-prev',\n  },\n\n  pagination: {\n    el: '.slider-controls .swiper-pagination', // всередині секції\n    clickable: true,\n    bulletClass: 'custom-bullet',\n    bulletActiveClass: 'custom-bullet-active',\n  },\n\n  breakpoints: {\n    768:  { slidesPerView: 2, spaceBetween: 24 },\n    1440: { slidesPerView: 3, spaceBetween: 24 },\n  },\n});\n","const modalOverlay = document.getElementById('modalOverlay');\nconst modal = document.getElementById('modal');\nconst contactForm = document.getElementById('contactForm');\nconst submitBtn = document.getElementById('submitBtn');\nconst loading = document.getElementById('loading');\nconst successMessage = document.getElementById('successMessage');\n\nconst nameInput = document.getElementById('name');\nconst emailInput = document.getElementById('email');\nconst messageInput = document.getElementById('message');\n\nconst nameError = document.getElementById('nameError');\nconst emailError = document.getElementById('emailError');\n\nfunction openModal() {\n    modalOverlay.classList.add('active');\n    document.body.classList.add('modal-open');\n    \n    setTimeout(() => {\n        nameInput.focus();\n    }, 100);\n}\n\nfunction closeModal() {\n    modalOverlay.classList.remove('active');\n    document.body.classList.remove('modal-open');\n    \n    setTimeout(() => {\n        resetForm();\n    }, 300);\n}\n\nfunction resetForm() {\n    contactForm.reset();\n    hideAllErrors();\n    showForm();\n}\n\nfunction hideAllErrors() {\n    nameError.classList.remove('show');\n    emailError.classList.remove('show');\n    nameInput.classList.remove('error');\n    emailInput.classList.remove('error');\n}\n\nfunction showForm() {\n    contactForm.style.display = 'block';\n    successMessage.classList.remove('show');\n    document.querySelector('.modal-header').style.display = 'block';\n}\n\nfunction showSuccess() {\n    contactForm.style.display = 'none';\n    document.querySelector('.modal-header').style.display = 'none';\n    successMessage.classList.add('show');\n}\n\nfunction isValidEmail(email) {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return emailRegex.test(email);\n}\n\nfunction validateForm() {\n    let isValid = true;\n    hideAllErrors();\n\n    if (!nameInput.value.trim()) {\n        nameError.classList.add('show');\n        nameInput.classList.add('error');\n        isValid = false;\n    }\n\n    if (!emailInput.value.trim()) {\n        emailError.textContent = 'Please enter your email address';\n        emailError.classList.add('show');\n        emailInput.classList.add('error');\n        isValid = false;\n    } else if (!isValidEmail(emailInput.value.trim())) {\n        emailError.textContent = 'Please enter a valid email address';\n        emailError.classList.add('show');\n        emailInput.classList.add('error');\n        isValid = false;\n    }\n\n    return isValid;\n}\n\ncontactForm.addEventListener('submit', async function(e) {\n    e.preventDefault();\n    \n    if (!validateForm()) {\n        return;\n    }\n\n    submitBtn.disabled = true;\n    document.querySelector('.button-text').style.display = 'none';\n    loading.classList.add('show');\n\n    try {\n        await new Promise(resolve => setTimeout(resolve, 2000));\n        \n        const formData = {\n            name: nameInput.value.trim(),\n            email: emailInput.value.trim(),\n            message: messageInput.value.trim(),\n            event: 'Cozy Book Club — \"The Midnight Library\"'\n        };\n\n        console.log('Form submitted:', formData);\n\n        showSuccess();\n\n        setTimeout(() => {\n            closeModal();\n        }, 3000);\n\n    } catch (error) {\n        console.error('Error submitting form:', error);\n        alert('Sorry, there was an error submitting your registration. Please try again.');\n    } finally {\n        \n        submitBtn.disabled = false;\n        document.querySelector('.button-text').style.display = 'block';\n        loading.classList.remove('show');\n    }\n});\n\nnameInput.addEventListener('input', function() {\n    if (this.value.trim()) {\n        nameError.classList.remove('show');\n        this.classList.remove('error');\n    }\n});\n\nemailInput.addEventListener('input', function() {\n    if (this.value.trim() && isValidEmail(this.value.trim())) {\n        emailError.classList.remove('show');\n        this.classList.remove('error');\n    }\n});\n\nmodalOverlay.addEventListener('click', function(e) {\n    if (e.target === modalOverlay) {\n        closeModal();\n    }\n});\n\ndocument.addEventListener('keydown', function(e) {\n    if (e.key === 'Escape' && modalOverlay.classList.contains('active')) {\n        closeModal();\n    }\n});\n\nmodal.addEventListener('click', function(e) {\n    e.stopPropagation();\n});\n\nconst focusableElements = [\n    'button',\n    'input',\n    'textarea',\n    'select',\n    '[tabindex]:not([tabindex=\"-1\"])'\n];\n\nmodalOverlay.addEventListener('keydown', function(e) {\n    if (e.key === 'Tab' && modalOverlay.classList.contains('active')) {\n        const focusable = modal.querySelectorAll(focusableElements.join(','));\n        const firstFocusable = focusable[0];\n        const lastFocusable = focusable[focusable.length - 1];\n\n        if (e.shiftKey) {\n            if (document.activeElement === firstFocusable) {\n                lastFocusable.focus();\n                e.preventDefault();\n            }\n        } else {\n            if (document.activeElement === lastFocusable) {\n                firstFocusable.focus();\n                e.preventDefault();\n            }\n        }\n    }\n});\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    console.log('Contact Modal initialized');\n});\n\ndocument.addEventListener('DOMContentLoaded', function () {\n    const registerButtons = document.querySelectorAll('.event-btn');\n\n    registerButtons.forEach(button => {\n      button.addEventListener('click', function () {\n        openModal();\n      });\n    });\n  });\n\nconst closeBtn = document.querySelector('.modal-close');\nif (closeBtn) {\n  closeBtn.addEventListener('click', closeModal);\n}\n","import './js/header';\nimport './js/mobile-menu';\nimport './js/hero';\nimport './js/book';\nimport './js/book-modal';\nimport './js/feedback';\nimport './js/events';\nimport './js/contact-modal';\n\nimport { openBookModal } from './js/book-modal.js';\n\ndocument.querySelector('.books')?.addEventListener('click', async e => {\n  const btn = e.target.closest('.btn');\n  if (!btn) return;\n\n  const bookId = btn.dataset.id;\n  if (!bookId) return;\n\n  try {\n    const response = await fetch(\n      `https://books-backend.p.goit.global/books/${bookId}`\n    );\n    const data = await response.json();\n\n    const bookData = {\n      image: data.book_image,\n      title: data.title,\n      author: data.author,\n      price: data.price,\n      description: data.description,\n      shipping: 'Безкоштовна доставка',\n      returns: 'Повернення протягом 14 днів',\n    };\n\n    openBookModal(bookData);\n  } catch (error) {\n    console.error('Помилка при завантаженні книги:', error);\n  }\n});\n\nconst quotes = [\n  \"A room without books is like a body without a soul. — Cicero\",\n  \"So many books, so little time. — Frank Zappa\",\n  \"Until I feared I would lose it, I never loved to read. — Harper Lee\",\n  \"A reader lives a thousand lives before he dies. — George R.R. Martin\",\n  \"There is no friend as loyal as a book. — Ernest Hemingway\",\n  \"Books are a uniquely portable magic. — Stephen King\",\n  \"I have always imagined that Paradise will be a kind of library. — Jorge Luis Borges\",\n  \"Reading is essential for those who seek to rise above the ordinary. — Jim Rohn\",\n  \"Books are the mirrors of the soul. — Virginia Woolf\",\n  \"The more that you read, the more things you will know. — Dr. Seuss\",\n  \"Reading gives us someplace to go when we have to stay where we are. — Mason Cooley\",\n  \"A good book is an event in my life. — Stendhal\",\n  \"Once you learn to read, you will be forever free. — Frederick Douglass\",\n];\n\nconst quoteText = document.getElementById('quote-text');\nconst randomIndex = Math.floor(Math.random() * quotes.length);\nquoteText.textContent = quotes[randomIndex];\n\n"],"names":["menuBtn","menu","btn","toggleMobileMenu","menuNav","handleNavMenu","Swiper","Navigation","API_BASE_URL","fetchTopBooks","axios","category","book","index","self","b","error","fetchBooksByCategory","categories","categoriesSelect","booksContainer","loader","showMore","booksCount","showLoader","hideLoader","showShowMoreBtn","hideShowMoreBtn","capitalizeTitle","title","word","allBooks","currentIndex","initialAmount","stepRender","renderBatch","amount","rendered","nextSlice","createMarkup","books","cardHeight","item","categoryName","modalInstance","openBookModal","bookData","closeBookModal","template","wrapper","quantityEl","decrementBtn","incrementBtn","quantity","backdrop","onBackdropClick","closeBtn","handleEscape","initAccordions","container","accordionButtons","button","panel","isOpen","_a","Pagination","Scrollbar","modalOverlay","modal","contactForm","submitBtn","loading","successMessage","nameInput","emailInput","messageInput","nameError","emailError","openModal","closeModal","resetForm","hideAllErrors","showForm","showSuccess","isValidEmail","email","validateForm","isValid","resolve","formData","focusableElements","focusable","firstFocusable","lastFocusable","bookId","data","quotes","quoteText","randomIndex"],"mappings":"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"}