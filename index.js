import{S as k,N as v,a as C,P as x,b as M}from"./assets/vendor-5ZdD33SK.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function i(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=i(o);fetch(o.href,r)}})();const V=document.querySelectorAll(".mobile-menu-btn"),I=document.querySelector(".mobile-menu");V.forEach(e=>e.addEventListener("click",$));function $(){document.body.classList.toggle("no-scroll"),I.classList.toggle("is-open")}const O=document.querySelector(".mobile-nav");O.addEventListener("click",H);function H(e){e.target.className==="nav-link"&&(console.log(e.target),$())}new k(".hero-main-slider",{modules:[v],loop:!1,speed:300,slidesPerView:1,keyboard:{enabled:!0,onlyInViewport:!0},watchOverflow:!0,navigation:{nextEl:".swiper-button-hero-next",prevEl:".swiper-button-hero-prev"},breakpoints:{768:{slidesPerView:1},1440:{slidesPerView:1}}});const P="https://books-backend.p.goit.global/books";async function w(){try{return(await C.get(`${P}/top-books`)).data.flatMap(n=>n.books).filter((n,o,r)=>o===r.findIndex(s=>s.title===n.title&&s.author===n.author))}catch(e){console.error("Error fetching top books:",e)}}async function A(e){try{return(await C.get(`${P}/category?category=${encodeURIComponent(e)}`)).data.filter((n,o,r)=>o===r.findIndex(s=>s.title===n.title&&s.author===n.author))}catch(t){console.error("Error fetching books by category:",t)}}const T=document.querySelectorAll(".category-item"),B=document.querySelector(".category-select"),u=document.querySelector(".books"),N=document.querySelector(".loader"),d=document.querySelector(".show-more-btn"),F=document.querySelector("#books-count");function L(){N.classList.remove("hidden")}function S(){N.classList.add("hidden")}function q(){d.classList.remove("hidden")}function p(){d.classList.add("hidden")}function R(e){return e.toLowerCase().split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}let c=[],l=0,E=window.innerWidth<768?10:24;const j=4;function f(e){const t=Math.min(l+e,c.length),i=c.slice(l,t);u.insertAdjacentHTML("beforeend",U(i)),l=t,F.textContent=`Showing ${t} of ${c.length}`,l>=c.length&&p()}p();L();w().then(e=>{c=e,f(E),c.length>l&&q()}).finally(()=>{S()});d.addEventListener("click",()=>{f(j);const t=document.querySelector(".books li").getBoundingClientRect().height;window.scrollBy({top:t*1,behavior:"smooth"}),d.blur()});u.addEventListener("click",e=>{e.target.classList.contains("btn")&&e.target.blur()});function U(e){return e.map(t=>`
<li class="book-item">
  <img class="item-image" src="${t.book_image}" alt="${t.title}" />
  
  <div class="book-content">
    <div class="book-info">
      <div class="text-group">
        <h3 class="item-title">${R(t.title)}</h3>
        <p class="item-author">${t.author}</p>
      </div>
      <p class="item-price">$${t.price}</p>
    </div>
  </div>

  <button class="btn" data-id="${t._id}">Learn More</button>
</li>`).join("")}B.addEventListener("change",()=>{const e=B.value;p(),L(),u.innerHTML="",l=0,(e==="All categories"?w:()=>A(e))().then(i=>{c=i,f(E),c.length>l&&q()}).finally(()=>{S()})});T.forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.category;p(),L(),u.innerHTML="",l=0,(t==="All categories"?w:()=>A(t))().then(n=>{c=n,f(E),c.length>l&&q()}).finally(()=>{S()})})});let a=null;function z(e){a&&y();const t=document.querySelector("#book-modal-template");if(!t){console.error("–ú–æ–¥–∞–ª—å–Ω–∏–π —à–∞–±–ª–æ–Ω –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ!");return}const i=t.content.cloneNode(!0);i.querySelector(".book-modal__image").src=e.image||"",i.querySelector(".book-modal__image").alt=e.title||"Book Cover",i.querySelector(".book-modal__title").textContent=e.title||"No title",i.querySelector(".book-modal__author").textContent=e.author||"Unknown author",i.querySelector(".book-modal__price").textContent=e.price?`$${e.price}`:"No price",i.querySelector(".book-modal__description").innerHTML=`<p>${e.description||"No description"}</p>`,i.querySelector(".book-modal__shipping").innerHTML=`<p>${e.shipping||"Shipping info unavailable"}</p>`,i.querySelector(".book-modal__returns").innerHTML=`<p>${e.returns||"Return info unavailable"}</p>`,a=i,document.body.appendChild(a),document.body.style.overflow="hidden";const n=document.querySelector(".book-modal-backdrop");if(!n)return;n.addEventListener("click",K);const o=n.querySelector('[data-action="close-modal"]');o&&o.addEventListener("click",y),W(n);let r=1;const s=n.querySelector(".qty-value"),m=n.querySelector('[data-action="decrement"]'),h=n.querySelector('[data-action="increment"]');m==null||m.addEventListener("click",()=>{r>1&&r--,s&&(s.textContent=r)}),h==null||h.addEventListener("click",()=>{r++,s&&(s.textContent=r)});const b=n.querySelector(".book-modal__add-to-cart"),g=n.querySelector(".book-modal__buy-now");b==null||b.addEventListener("click",()=>{console.log("üõí Add to Cart:",{title:e.title,quantity:r})}),g==null||g.addEventListener("click",()=>{console.log("üí≥ Buy Now:",{title:e.title,quantity:r})})}function y(){const e=document.querySelector(".book-modal-backdrop");e&&e.remove(),a=null,document.body.style.overflow=""}function K(e){e.target.classList.contains("book-modal-backdrop")&&y()}function W(e){const t=e.querySelectorAll(".accordion");t.forEach(i=>{const n=i.nextElementSibling;i.addEventListener("click",()=>{const o=i.classList.contains("active");t.forEach(r=>{var s;r.classList.remove("active"),(s=r.nextElementSibling)==null||s.classList.remove("open")}),o||(i.classList.add("active"),n==null||n.classList.add("open"))})})}new k(".swiper",{modules:[v,x,M],speed:350,slidesPerView:"auto",spaceBetween:16,keyboard:{enabled:!0,onlyInViewport:!0},watchOverflow:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".feedback .swiper-pagination",type:"bullets",clickable:!0,bulletClass:"custom-bullet",bulletActiveClass:"custom-bullet-active"},breakpoints:{768:{slidesPerView:"auto",spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}}});new k(".swiper-events",{modules:[v,x,M],wrapperClass:"swiper-wrapper-events",slideClass:"swiper-slide-events",speed:350,slidesPerView:"auto",spaceBetween:16,watchOverflow:!0,navigation:{nextEl:".swiper-events-button-next",prevEl:".swiper-events-button-prev"},pagination:{el:".slider-controls .swiper-pagination",clickable:!0,bulletClass:"custom-bullet",bulletActiveClass:"custom-bullet-active"},breakpoints:{768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}}});var _;(_=document.querySelector(".books"))==null||_.addEventListener("click",async e=>{const t=e.target.closest(".btn");if(!t)return;const i=t.dataset.id;if(i)try{const o=await(await fetch(`https://books-backend.p.goit.global/books/${i}`)).json(),r={image:o.book_image,title:o.title,author:o.author,price:o.price,description:o.description,shipping:"–ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∞",returns:"–ü–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –ø—Ä–æ—Ç—è–≥–æ–º 14 –¥–Ω—ñ–≤"};z(r)}catch(n){console.error("–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –∫–Ω–∏–≥–∏:",n)}});
//# sourceMappingURL=index.js.map
