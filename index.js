import{S as x,N as C,a as j,C as re,i as y,P as W,b as z}from"./assets/vendor-BIwjR-ru.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function s(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(n){if(n.ep)return;n.ep=!0;const r=s(n);fetch(n.href,r)}})();const ie=document.querySelectorAll(".mobile-menu-btn"),ae=document.querySelector(".mobile-menu");ie.forEach(e=>e.addEventListener("click",D));function D(){document.body.classList.toggle("no-scroll"),ae.classList.toggle("is-open")}const le=document.querySelector(".mobile-nav");le.addEventListener("click",ce);function ce(e){e.target.className==="nav-link"&&(console.log(e.target),D())}new x(".hero-main-slider",{modules:[C],loop:!1,speed:300,slidesPerView:1,keyboard:{enabled:!0,onlyInViewport:!0},watchOverflow:!0,navigation:{nextEl:".swiper-button-hero-next",prevEl:".swiper-button-hero-prev"},breakpoints:{768:{slidesPerView:1},1440:{slidesPerView:1}}});const K="https://books-backend.p.goit.global/books";async function M(){try{return(await j.get(`${K}/top-books`)).data.flatMap(o=>o.books).filter((o,n,r)=>n===r.findIndex(i=>i.title===o.title&&i.author===o.author))}catch(e){console.error("Error fetching top books:",e)}}async function Y(e){try{return(await j.get(`${K}/category?category=${encodeURIComponent(e)}`)).data.filter((o,n,r)=>n===r.findIndex(i=>i.title===o.title&&i.author===o.author))}catch(t){console.error("Error fetching books by category:",t)}}const F=document.querySelectorAll(".category-item"),O=document.querySelector(".category-select"),b=document.querySelector(".books"),J=document.querySelector(".loader"),g=document.querySelector(".show-more-btn"),de=document.querySelector("#books-count"),ue=document.getElementById("category-select");new re(ue,{searchEnabled:!1,itemSelectText:"",shouldSort:!1,position:"bottom",placeholder:!0,placeholderValue:"Categories"});function I(){J.classList.remove("hidden")}function P(){J.classList.add("hidden")}function _(){g.classList.remove("hidden")}function w(){g.classList.add("hidden")}function me(e){return e.toLowerCase().split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}let a=[],l=0,$=window.innerWidth<768?10:24;const pe=4;function L(e){const t=Math.min(l+e,a.length),s=a.slice(l,t);b.insertAdjacentHTML("beforeend",fe(s)),l=t,de.textContent=`Showing ${t} of ${a.length}`,l>=a.length&&w()}w();I();M().then(e=>{a=e,L($),a.length>l&&_()}).finally(()=>{P()});g.addEventListener("click",()=>{L(pe);const t=document.querySelector(".books li").getBoundingClientRect().height;window.scrollBy({top:t*1,behavior:"smooth"}),g.blur()});b.addEventListener("click",e=>{e.target.classList.contains("btn")&&e.target.blur()});function fe(e){return e.map(t=>`
<li class="book-item">
  <img class="item-image" src="${t.book_image}" alt="${t.title}" />
  
  <div class="book-content">
    <div class="book-info">
      <div class="text-group">
        <h3 class="item-title">${me(t.title)}</h3>
        <p class="item-author">${t.author}</p>
      </div>
      <p class="item-price">$${t.price}</p>
    </div>
  </div>

  <button class="btn" data-id="${t._id}">Learn More</button>
</li>`).join("")}O.addEventListener("change",()=>{const e=O.value;w(),I(),b.innerHTML="",l=0,(e==="All categories"?M:()=>Y(e))().then(s=>{a=s,L($),a.length>l&&_()}).finally(()=>{P()})});F.forEach(e=>{e.addEventListener("click",()=>{F.forEach(o=>o.classList.remove("active")),e.classList.add("active");const t=e.dataset.category;w(),I(),b.innerHTML="",l=0,(t==="All categories"?M:()=>Y(t))().then(o=>{a=o,L($),a.length>l&&_()}).finally(()=>{P()})})});let d=null;function he(e){d&&v();const t=document.querySelector("#book-modal-template");if(!t){console.error("Модальний шаблон не знайдено!");return}const o=t.content.cloneNode(!0).firstElementChild;o.querySelector(".book-modal__image").src=e.image||"",o.querySelector(".book-modal__image").alt=e.title||"Book Cover",o.querySelector(".book-modal__title").textContent=e.title||"No title",o.querySelector(".book-modal__author").textContent=e.author||"Unknown author",o.querySelector(".book-modal__price").textContent=e.price?`$${e.price}`:"No price",o.querySelector(".book-modal__description").innerHTML=`<p>${e.description||"No description"}</p>`,o.querySelector(".book-modal__shipping").innerHTML="<p>We ship across the United States within 2–5 business days. All orders are processed through USPS or a reliable courier service. Enjoy free standard shipping on orders over $50.  </p>",o.querySelector(".book-modal__returns").innerHTML="<p>You can return an item within 14 days of receiving your order, provided it hasn’t been used and is in its original condition. To start a return, please contact our support team — we’ll guide you through the process quickly and hassle-free.</p>";const n=o.querySelector(".qty-value"),r=o.querySelector('[data-action="decrement"]'),i=o.querySelector('[data-action="increment"]');let c=1;n.textContent=c,r.addEventListener("click",()=>{c>1&&(c--,n.textContent=c)}),i.addEventListener("click",()=>{c++,n.textContent=c}),o.querySelector(".book-modal__add-to-cart").addEventListener("click",()=>{console.log(`Added ${c} of '${e.title}' to cart.`)}),o.querySelector(".book-modal__buy-now").addEventListener("click",()=>{y.success({title:"Success",message:"Thanks for your purchase!",position:"topRight",timeout:3e3,progressBar:!0})}),d=o,document.body.appendChild(d),document.body.classList.add("no-scroll");const q=d;q.addEventListener("click",ye);const T=q.querySelector('[data-action="close-modal"]');T&&T.addEventListener("click",v),document.addEventListener("keydown",G),ge(q)}function v(){d&&d.remove(),document.body.classList.remove("no-scroll"),document.removeEventListener("keydown",G),d=null}function ye(e){e.target.classList.contains("book-modal-backdrop")&&v()}function G(e){e.key==="Escape"&&v()}function ge(e){e.querySelectorAll(".accordion").forEach(s=>{const o=s.nextElementSibling;s.addEventListener("click",()=>{s.classList.contains("active")?(s.classList.remove("active"),o==null||o.classList.remove("open")):(s.classList.add("active"),o==null||o.classList.add("open"))})})}new x(".swiper",{modules:[C,W,z],speed:350,slidesPerView:"auto",spaceBetween:16,keyboard:{enabled:!0,onlyInViewport:!0},watchOverflow:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".feedback .swiper-pagination",type:"bullets",clickable:!0,bulletClass:"custom-bullet",bulletActiveClass:"custom-bullet-active"},breakpoints:{768:{slidesPerView:"auto",spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}}});new x(".swiper-events",{modules:[C,W,z],wrapperClass:"swiper-wrapper-events",slideClass:"swiper-slide-events",speed:350,slidesPerView:"auto",spaceBetween:16,watchOverflow:!0,navigation:{nextEl:".swiper-events-button-next",prevEl:".swiper-events-button-prev"},pagination:{el:".slider-controls .swiper-pagination",clickable:!0,bulletClass:"custom-bullet",bulletActiveClass:"custom-bullet-active"},breakpoints:{768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}}});const m=document.getElementById("modalOverlay"),X=document.getElementById("modal"),k=document.getElementById("contactForm"),R=document.getElementById("submitBtn"),V=document.getElementById("loading"),Z=document.getElementById("successMessage"),f=document.getElementById("name"),u=document.getElementById("email"),ve=document.getElementById("message"),A=document.getElementById("nameError"),p=document.getElementById("emailError");function be(){m.classList.add("active"),document.body.classList.add("modal-open"),setTimeout(()=>{f.focus()},100)}function E(){m.classList.remove("active"),document.body.classList.remove("modal-open"),setTimeout(()=>{we()},300)}function we(){k.reset(),Q(),Le()}function Q(){A.classList.remove("show"),p.classList.remove("show"),f.classList.remove("error"),u.classList.remove("error")}function Le(){k.style.display="block",Z.classList.remove("show"),document.querySelector(".modal-header").style.display="block"}function ke(){k.style.display="none",document.querySelector(".modal-header").style.display="none",Z.classList.add("show")}function ee(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function Ee(){let e=!0;return Q(),f.value.trim()||(A.classList.add("show"),f.classList.add("error"),e=!1),u.value.trim()?ee(u.value.trim())||(p.textContent="Please enter a valid email address",p.classList.add("show"),u.classList.add("error"),e=!1):(p.textContent="Please enter your email address",p.classList.add("show"),u.classList.add("error"),e=!1),e}k.addEventListener("submit",async function(e){if(e.preventDefault(),!!Ee()){R.disabled=!0,document.querySelector(".button-text").style.display="none",V.classList.add("show");try{await new Promise(s=>setTimeout(s,2e3));const t={name:f.value.trim(),email:u.value.trim(),message:ve.value.trim(),event:'Cozy Book Club — "The Midnight Library"'};console.log("Form submitted:",t),ke(),setTimeout(()=>{E()},3e3)}catch(t){console.error("Error submitting form:",t),alert("Sorry, there was an error submitting your registration. Please try again.")}finally{R.disabled=!1,document.querySelector(".button-text").style.display="block",V.classList.remove("show")}}});f.addEventListener("input",function(){this.value.trim()&&(A.classList.remove("show"),this.classList.remove("error"))});u.addEventListener("input",function(){this.value.trim()&&ee(this.value.trim())&&(p.classList.remove("show"),this.classList.remove("error"))});m.addEventListener("click",function(e){e.target===m&&E()});document.addEventListener("keydown",function(e){e.key==="Escape"&&m.classList.contains("active")&&E()});X.addEventListener("click",function(e){e.stopPropagation()});const Se=["button","input","textarea","select",'[tabindex]:not([tabindex="-1"])'];m.addEventListener("keydown",function(e){if(e.key==="Tab"&&m.classList.contains("active")){const t=X.querySelectorAll(Se.join(",")),s=t[0],o=t[t.length-1];e.shiftKey?document.activeElement===s&&(o.focus(),e.preventDefault()):document.activeElement===o&&(s.focus(),e.preventDefault())}});document.addEventListener("DOMContentLoaded",function(){console.log("Contact Modal initialized")});document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".event-btn").forEach(t=>{t.addEventListener("click",function(){be()})})});const N=document.querySelector(".modal-close");N&&N.addEventListener("click",E);const S=document.getElementById("marquee-content"),te=25,H=S.innerHTML;S.innerHTML=`
  <span class="marquee-text">${H}</span>
  <span class="marquee-gap" style="display:inline-block; width:${te}px;"></span>
  <span class="marquee-text">${H}</span>
`;let h=0;const qe=.5;let oe;window.addEventListener("load",()=>{oe=S.querySelector(".marquee-text").scrollWidth+te,requestAnimationFrame(ne)});function ne(){h-=qe,Math.abs(h)>=oe&&(h=0),S.style.transform=`translateX(${h}px)`,requestAnimationFrame(ne)}const B=document.querySelector(".scroll-btn");window.addEventListener("scroll",()=>{window.scrollY>150?B.classList.add("visible"):B.classList.remove("visible")});B.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".subscribe-form");e&&e.addEventListener("submit",function(t){t.preventDefault();const o=e.elements.email.value.trim();if(!o){y.error({title:"Error",message:"Please enter your email address.",position:"topRight",timeout:3e3});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)){y.error({title:"Invalid Email",message:"Please enter a valid email address.",position:"topRight",timeout:3e3});return}y.success({title:"Success",message:"You have successfully subscribed!",position:"topRight",timeout:3e3}),e.reset()})});var U;(U=document.querySelector(".books"))==null||U.addEventListener("click",async e=>{const t=e.target.closest(".btn");if(!t)return;const s=t.dataset.id;if(s)try{const n=await(await fetch(`https://books-backend.p.goit.global/books/${s}`)).json(),r={image:n.book_image,title:n.title,author:n.author,price:n.price,description:n.description,shipping:"Безкоштовна доставка",returns:"Повернення протягом 14 днів"};he(r)}catch(o){console.error("Помилка при завантаженні книги:",o)}});const se=["A room without books is like a body without a soul. — Cicero","So many books, so little time. — Frank Zappa","Until I feared I would lose it, I never loved to read. — Harper Lee","A reader lives a thousand lives before he dies. — George R.R. Martin","There is no friend as loyal as a book. — Ernest Hemingway","Books are a uniquely portable magic. — Stephen King","I have always imagined that Paradise will be a kind of library. — Jorge Luis Borges","Reading is essential for those who seek to rise above the ordinary. — Jim Rohn","Books are the mirrors of the soul. — Virginia Woolf","The more that you read, the more things you will know. — Dr. Seuss","Reading gives us someplace to go when we have to stay where we are. — Mason Cooley","A good book is an event in my life. — Stendhal","Once you learn to read, you will be forever free. — Frederick Douglass"],Be=document.getElementById("quote-text"),xe=Math.floor(Math.random()*se.length);Be.textContent=se[xe];
//# sourceMappingURL=index.js.map
